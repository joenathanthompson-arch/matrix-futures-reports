# Matrix Futures AI System - Documentation & Maintenance Guide

## Overview

This document summarizes the Manus AI bias scoring and daily reporting system for the Matrix Futures Trading System. Use this as a reference when updating any system files.

---

## System Architecture

```
┌─────────────────────────────────────────────────────────────────────┐
│                        MANUS AI                                      │
│  (System prompt: Manus_Bootstrap_Prompt.md - max 5000 chars)        │
└─────────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────────┐
│                    GitHub Repository                                 │
│         github.com/joenathanthompson-arch/matrix-futures-reports    │
├─────────────────────────────────────────────────────────────────────┤
│  docs/                                                               │
│    ├── Manus_Bootstrap_Prompt.md      ← Paste into Manus window     │
│    ├── Macro_Bias_Scorer_Reference.md ← Full methodology (fetched)  │
│    └── SYSTEM_README.md               ← This file                   │
│                                                                      │
│  data/                                                               │
│    ├── bias_scores/                                                  │
│    │     ├── latest.txt               ← PM EA reads this (critical) │
│    │     └── YYYY-MM-DD.txt           ← Daily archives              │
│    └── executive_summaries/                                          │
│          └── executive_summary_YYYY-MM-DD_HHMM.md                   │
│                                                                      │
│  reports/                                                            │
│    └── YYYY-MM-DD_daily_report.md     ← Full daily reports          │
└─────────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────────┐
│                    Portfolio Manager EA (MT5)                        │
│  Fetches: raw.githubusercontent.com/.../data/bias_scores/latest.txt │
│  Frequency: Every 60 seconds                                         │
│  Action: Assigns IB_BREAKOUT / IB_REVERSION / NO_TRADE strategies   │
└─────────────────────────────────────────────────────────────────────┘
```

---

## File Descriptions

### 1. `docs/Manus_Bootstrap_Prompt.md`
**Purpose:** System prompt pasted directly into Manus AI's instruction window
**Character Limit:** 5000 characters (currently ~4,600)
**Contains:**
- Critical rules (no hallucinating, verify data, flag issues)
- Repo file paths
- Update schedule (2:30 AM ET, 5:30 PM ET)
- `latest.txt` exact format for PM EA
- Primary data source URLs (simple table)
- Scoring quick reference
- Workflow steps
- Report section requirements

**When to update:**
- Adding/removing instruments
- Changing update schedule
- Modifying PM file format
- Adding new critical rules

**⚠️ Keep under 5000 characters!** Move detailed content to Reference doc.

---

### 2. `docs/Macro_Bias_Scorer_Reference.md`
**Purpose:** Full methodology document Manus fetches before generating reports
**Character Limit:** None
**Contains:**
- Complete Master Scoring Lookup Table (all 16 factors)
- Instrument-specific configurations with weights:
  - GC (Gold) - 7 factors, Real Yields weighted 2x
  - SI (Silver) - 7 factors, includes Copper
  - ES (S&P 500) - 7 factors, Real Yields weighted 2x
  - NQ (Nasdaq 100) - 7 factors, includes SOX/MOVE
  - YM (Dow) - 7 factors, Growth weighted 2x
  - CL (Crude) - 5 factors, Supply/Growth weighted 2x
- Signal interpretation (raw score → signal → PM score)
- Instrument Cheat Cards (drivers, bullish/bearish conditions)
- Primary data source URLs with full paths
- **Fallback data sources for stale indicators**
- Example scorecard output format

**When to update:**
- Changing factor weights
- Adding/modifying scoring logic
- Adding new data sources or fallbacks
- Updating instrument cheat cards
- Adding new instruments

---

### 3. `data/bias_scores/latest.txt`
**Purpose:** PM EA reads this file to determine trading strategies
**Format:** EXACT - PM parses by pattern matching

```
Daily Bias Scores - Mon DD, YYYY

GC: Signal | Score/10 | Driver1, Driver2, Driver3
SI: Signal | Score/10 | Driver1, Driver2, Driver3
ES: Signal | Score/10 | Driver1, Driver2, Driver3
NQ: Signal | Score/10 | Driver1, Driver2, Driver3
YM: Signal | Score/10 | Driver1, Driver2, Driver3
CL: Signal | Score/10 | Driver1, Driver2, Driver3

Generated by AI Trading System
```

**Rules:**
- Signal: `Bullish`, `Bearish`, or `Neutral` only (capitalized)
- Score: Integer 1-10 followed by `/10`
- Drivers: Comma-separated, max 3, keep concise
- Blank lines required where shown

**PM Score Interpretation:**
| Score | PM Strategy |
|-------|-------------|
| 7-10 | IB_BREAKOUT (direction from signal) |
| 4-6 | IB_REVERSION |
| 1-3 | NO_TRADE |

---

### 4. `data/executive_summaries/executive_summary_YYYY-MM-DD_HHMM.md`
**Purpose:** Per-symbol analysis with trading recommendations
**Naming:** Include date and time (e.g., `executive_summary_2026-01-26_0230.md`)
**Contains:**
- ⚠️ Data Issues section (if any)
- One paragraph per symbol (GC, SI, ES, NQ, YM, CL) with:
  - Key fundamental data (actual values from sources)
  - Recommended trading approach
  - Reasoning connecting data to recommendation

---

### 5. `reports/YYYY-MM-DD_daily_report.md`
**Purpose:** Comprehensive daily report with full scorecards
**Contains:**
1. Executive Summary with data issues
2. Bias Scores table + detailed scorecards (showing source values)
3. Macro Data Snapshot (all indicators with timestamps)
4. Economic Calendar (ForexFactory high-impact events)
5. Market News Summary

---

## Scoring System Summary

### Factor Scores
| Factor | Inputs | Scores |
|--------|--------|--------|
| Fed Stance | Hawkish hike / Hawkish hold / Neutral / Dovish / Cut / Emergency cut | -2 / -1 / 0 / +1 / +2 / +3 |
| Real Yields | Up / Flat / Down | -2 / 0 / +2 |
| USD (DXY) | Up / Flat / Down | -1 / 0 / +1 |
| Risk Mood | Risk-on / Balanced / Risk-off | -1 / 0 / +1 |
| Growth | Accelerating / Stable / Slowing | -1 / 0 / +1 |
| VIX/MOVE/Spreads | Up / Flat / Down | -1 / 0 / +1 |
| ETF/SOX/Copper | Down / Flat / Up | -1 / 0 / +1 |
| Inventories | Build / Flat / Draw | -1 / 0 / +1 |
| Geopolitical | Easing / Stable / Rising | -1 / 0 / +1 |
| 2s10s Curve | Flattening / Flat / Steepening | -1 / 0 / +1 |

### Instrument Weights (bold = 2x)
| Instrument | Factors |
|------------|---------|
| GC | Fed, **Real Yields**, USD, Risk, Growth, Oil, ETF |
| SI | Fed, Real Yields, USD, Risk, Growth, Copper, ETF |
| ES | Fed, **Real Yields**, USD, Risk, Growth, Credit, VIX |
| NQ | Fed, **Real Yields**, USD, Risk, Growth, SOX, MOVE |
| YM | Fed, Real Yields, USD, Risk, **Growth**, Credit, 2s10s |
| CL | **Oil Supply**, Inventories, **Growth**, Geopolitical, USD |

### Signal Interpretation
| Weighted Score | Signal | PM Score |
|----------------|--------|----------|
| ≥ +5 | Strong Bullish | 9-10 |
| +3 to +4 | Bullish | 7-8 |
| +1 to +2 | Slight Bullish | 6 |
| -1 to +1 | Neutral | 5 |
| -2 to -3 | Slight Bearish | 4 |
| -4 to -5 | Bearish | 2-3 |
| ≤ -6 | Strong Bearish | 1 |

---

## Data Sources & Fallbacks

### Primary Sources
| Factor | URL |
|--------|-----|
| Fed | cmegroup.com/markets/interest-rates/cme-fedwatch-tool.html |
| Real Yields | fred.stlouisfed.org/series/DFII10 |
| DXY | tradingview.com/symbols/TVC-DXY/ |
| VIX | cnbc.com/quotes/.VIX |
| GDPNow | atlantafed.org/cqer/research/gdpnow |
| HY OAS | fred.stlouisfed.org/series/BAMLH0A0HYM2 |
| SOX | tradingview.com/symbols/SOX/ |
| MOVE | tradingview.com/symbols/TVC-MOVE/ |
| 2s10s | fred.stlouisfed.org/series/T10Y2Y |
| Copper | investing.com/commodities/copper |
| Gold ETF | gold.org/goldhub/data/gold-etfs-holdings-and-flows |
| Oil/EIA | eia.gov/petroleum/supply/weekly/ |
| Calendar | forexfactory.com/calendar |

### Fallback Sources (when FRED/Yahoo is >1 day stale)
| Factor | Fallback (Real-time) |
|--------|----------------------|
| Real Yields | **cnbc.com/quotes/US10YTIP** |
| HY OAS | **tradingeconomics.com** (search "HY OAS") |
| 2s10s | **cnbc.com/quotes/10Y2YS** |
| MOVE | **cnbc.com/quotes/.MOVE** |
| SOX | **finance.yahoo.com/quote/%5ESOX/** |

**Priority:** CNBC → TradingView → TradingEconomics → FRED

---

## Update Schedule

| Time (ET) | Update Type |
|-----------|-------------|
| 2:30 AM | Morning update (before Asia/Europe) |
| 5:30 PM | Afternoon update (before US evening/Asia) |
| Ad-hoc | When significant market conditions change |

---

## Critical Rules for Manus

1. **NEVER GUESS OR HALLUCINATE DATA** - Every score must come from a verified source
2. **DOCUMENT EVERYTHING** - Show actual values (e.g., "DFII10: 2.15%, up 4bps")
3. **FLAG DATA ISSUES** - List problems in Executive Summary, complete report with confirmed data
4. **USE FALLBACKS** - If primary source is >1 day stale, check fallback before scoring
5. **EXACT FORMAT** - PM EA parses `latest.txt` by pattern; any deviation breaks it
6. **INTEGER MATH ONLY** - All scores are whole numbers. Raw (-2 to +3), weights (1 or 2), totals (e.g., +8), PM scores (1-10). **NEVER use decimals like +0.300**

---

## Common Maintenance Tasks

### Adding a New Instrument
1. Add to Master Scoring Table in `Macro_Bias_Scorer_Reference.md`
2. Create instrument configuration (factors + weights)
3. Add cheat card (drivers, bullish/bearish conditions)
4. Update `latest.txt` format in both Bootstrap and Reference docs
5. Update PM EA to recognize new symbol

### Changing Factor Weights
1. Update instrument configuration in `Macro_Bias_Scorer_Reference.md`
2. Update Weights quick reference in `Manus_Bootstrap_Prompt.md`
3. Verify max score ranges still accurate

### Adding Data Source Fallbacks
1. Add to Fallback section in `Macro_Bias_Scorer_Reference.md`
2. Test that Manus can access the URL

### Modifying Update Schedule
1. Update in `Manus_Bootstrap_Prompt.md` (REPO & FILES section)
2. Update any scheduling automation

### Changing PM File Format
1. Update format example in both Bootstrap and Reference docs
2. Coordinate with PM EA code changes
3. Test parsing before deploying

---

## Troubleshooting

### Manus outputs decimal scores (e.g., +0.300)
→ This is WRONG. Manus created its own calculation method.
→ Re-emphasize INTEGER MATH in prompt: Raw scores are -2 to +3, weights are 1 or 2, totals should be whole numbers like +8 not +0.300
→ See worked example in `Macro_Bias_Scorer_Reference.md`

### Manus reports stale data
→ Check if primary source URL is accessible
→ Verify fallback sources are listed in Reference doc
→ Manus should flag in Data Issues section

### PM not receiving updates
→ Verify `latest.txt` format is exact (check for extra spaces/lines)
→ Check GitHub push was successful
→ Verify PM has correct raw URL configured

### Scores seem wrong
→ Review scorecard in daily report for source values
→ Verify factor weights are correct
→ Check if data source returned unexpected format

### Character limit exceeded in Bootstrap
→ Move detailed content to Reference doc
→ Use shorter URLs or abbreviations
→ Remove redundant instructions

---

## File Locations Summary

| File | Repo Path | Purpose |
|------|-----------|---------|
| Bootstrap Prompt | `docs/Manus_Bootstrap_Prompt.md` | Manus system prompt (≤5000 chars) |
| Reference Doc | `docs/Macro_Bias_Scorer_Reference.md` | Full methodology |
| This README | `docs/SYSTEM_README.md` | Maintenance guide |
| PM Bias File | `data/bias_scores/latest.txt` | PM EA reads this |
| Bias Archives | `data/bias_scores/YYYY-MM-DD.txt` | Historical scores |
| Exec Summaries | `data/executive_summaries/executive_summary_YYYY-MM-DD_HHMM.md` | Per-symbol analysis |
| Daily Reports | `reports/YYYY-MM-DD_daily_report.md` | Full reports |

---

## Version History

| Date | Change | Author |
|------|--------|--------|
| 2026-01-26 | Initial system creation | Claude + Joseph |
| 2026-01-26 | Added fallback data sources for FRED staleness issues | Claude |
| 2026-01-26 | Updated executive summary format (per-symbol paragraphs) | Claude |
| 2026-01-26 | Changed update times to 2:30 AM / 5:30 PM ET | Joseph |

---

*Last updated: January 26, 2026*
